<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>It&#39;s time to replace GIFs with AV1 video! | KAY SINGH</title>
<meta name="keywords" content="AV1, GIF, H.264, x264, VP9, Codecs, Video Encoding, HTML, Web Performance, Video Compression, ffmpeg" />
<meta name="description" content="It is 2019 and we need to make a decision about GIFs (no, not that one! We‚Äôre never going to be able to decide that one!). GIFs take up a massive amount of space (often multiple megabytes!) and if you‚Äôre a web developer, then that‚Äôs completely against your ethos! As a web developer, you want to minimize the bits your users need to download so that your website loads fast. That‚Äôs why you minify javascript, optimize PNGs, JPEGs and sometimes turn JPEGs to WebPs as well.">
<meta name="author" content="Kay Singh">
<link rel="canonical" href="https://singhkays.com/blog/its-time-replace-gifs-with-av1-video/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.d9d1cd3d9fa4d0b86a02da599d4a226feca9f58cbcccce3f6bddd0e3cd48bfa9.css" integrity="sha256-2dHNPZ&#43;k0LhqAtpZnUoib&#43;yp9Yy8zM4/a93Q481Iv6k=" rel="preload stylesheet" as="style">
<link rel="preload" href="/android-chrome-192x192.png" as="image">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js" integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5&#43;kdJvBz5iKbt6B5PJI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://singhkays.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://singhkays.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://singhkays.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://singhkays.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://singhkays.com/android-chrome-512x512.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.87.0" />


<script type="text/javascript">
  window._mNHandle = window._mNHandle || {};
  window._mNHandle.queue = window._mNHandle.queue || [];
  medianet_versionId = "3121199";
</script>
<script src="//contextual.media.net/dmedianet.js?cid=8CUX6J71X" async="async"></script>

<script data-ad-client="ca-pub-8046835310934475" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-JDVREY790Z"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-JDVREY790Z');
</script>



<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-108462543-1', 'auto');
	
	ga('send', 'pageview');
}
</script><meta property="og:title" content="It&#39;s time to replace GIFs with AV1 video!" />
<meta property="og:description" content="It is 2019 and we need to make a decision about GIFs (no, not that one! We‚Äôre never going to be able to decide that one!). GIFs take up a massive amount of space (often multiple megabytes!) and if you‚Äôre a web developer, then that‚Äôs completely against your ethos! As a web developer, you want to minimize the bits your users need to download so that your website loads fast. That‚Äôs why you minify javascript, optimize PNGs, JPEGs and sometimes turn JPEGs to WebPs as well." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://singhkays.com/blog/its-time-replace-gifs-with-av1-video/" />
<meta property="og:image" content="https://singhkays.com/blog/its-time-replace-gifs-with-av1-video/media/aint-nobody-got-time-for-gif.png" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2019-04-28T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2021-04-03T00:34:45-07:00" /><meta property="og:site_name" content="Kay&#39;s Blog" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://singhkays.com/blog/its-time-replace-gifs-with-av1-video/media/aint-nobody-got-time-for-gif.png" />
<meta name="twitter:title" content="It&#39;s time to replace GIFs with AV1 video!"/>
<meta name="twitter:description" content="It is 2019 and we need to make a decision about GIFs (no, not that one! We‚Äôre never going to be able to decide that one!). GIFs take up a massive amount of space (often multiple megabytes!) and if you‚Äôre a web developer, then that‚Äôs completely against your ethos! As a web developer, you want to minimize the bits your users need to download so that your website loads fast. That‚Äôs why you minify javascript, optimize PNGs, JPEGs and sometimes turn JPEGs to WebPs as well."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Blogs",
      "item": "https://singhkays.com/blog/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "It's time to replace GIFs with AV1 video!",
      "item": "https://singhkays.com/blog/its-time-replace-gifs-with-av1-video/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "It's time to replace GIFs with AV1 video!",
  "name": "It\u0027s time to replace GIFs with AV1 video!",
  "description": "It is 2019 and we need to make a decision about GIFs (no, not that one! We‚Äôre never going to be able to decide that one!). GIFs take up a massive amount of space (often multiple megabytes!) and if you‚Äôre a web developer, then that‚Äôs completely against your ethos! As a web developer, you want to minimize the bits your users need to download so that your website loads fast. That‚Äôs why you minify javascript, optimize PNGs, JPEGs and sometimes turn JPEGs to WebPs as well.",
  "keywords": [
    "AV1", "GIF", "H.264", "x264", "VP9", "Codecs", "Video Encoding", "HTML", "Web Performance", "Video Compression", "ffmpeg"
  ],
  "articleBody": "It is 2019 and we need to make a decision about GIFs (no, not that one! We‚Äôre never going to be able to decide that one!). GIFs take up a massive amount of space (often multiple megabytes!) and if you‚Äôre a web developer, then that‚Äôs completely against your ethos! As a web developer, you want to minimize the bits your users need to download so that your website loads fast. That‚Äôs why you minify javascript, optimize PNGs, JPEGs and sometimes turn JPEGs to WebPs as well. But then what about the venerable GIF?\nWhere we are going, we don‚Äôt need no GIFs! If your goal is to improve your website‚Äôs loading performance, then a GIF needs to be yanked! But then how do you have moving pictures? The answer is a video. And in most cases, you‚Äôll get better quality as well as almost 50-90% size savings! In life, most things have a pro and a con. When you‚Äôre replacing a GIF with a video, in majority of the cases you‚Äôll be hard pressed to find a con\nReplace all the GIFs! Fortunately, replacing GIFs with video has now been common for a few years so the tools needed to pull off this trick are already in play. In this blog, I‚Äôm not going to break new ground, but improve upon what already exists. So, here‚Äôs the lowdown on what you can currently do:\n Take a GIF and convert it into video Encode it with H.264 or VP9 codec i.e. compress it and package in a MP4 of WebM container Replace animated GIF  elements with  Set the video to play automatically, sliently and in a loop to replicate the GIF functionality  Google has a good documentation page describing the process.\nIt is 2019 It‚Äôs 2019. Tech moves forward and we need to move with it. Until now you‚Äôve had two choices of codecs that are widely adopted across all browsers and platforms for encoding the video:\n H.264 ‚Äì Introduced in 2003 and the most widely used codec today VP9 ‚Äì Introduced in 2013 and achieves up to 50% more compression compared to H.264 most of the times but it can look worse sometimes according to this discussion on reddit.   NOTE: Even though H.265 is the next-gen version of H.264 and competes with VP9, I‚Äôm not including it in this comparison becuase of lack of browser support as noted on https://caniuse.com/#feat=hevc. Licensing costs is the major reason why H.265 is not as widely adopted as H.264 and why Alliance of Open Media consortium is working a royalty-free codec i.e. AV1.\n Remember, our goal is to reduce the humongous GIF to as small a size as possible to improve our webpage loading time. It wouldn‚Äôt be 2019 if we didn‚Äôt have a new video compression standard we could encode to. This is called AV1. With AV1, we are able to achieve ~30% more compression compared to VP9. Exciting! :)\nServing you AV1 since 2019! On desktop Recently, support for decoding AV1 video has been enabled in desktop versions of Google Chrome 70 and Mozilla Firefox 65. At present, support in Firefox is buggy and can cause crashes but is expected to improve with the adoption of the dav1d decoder in Firefox 67. For more info on the dav1d decoder and the latest release, see dav1d 0.3.0 release: even faster!.\nOn smartphones For smartphones, the support is lacking at present but that‚Äôs to be expected due to the lack of hardware decoders. Without hardware decoders, the decoding can be done in software without any hiccups but it would cause an increase in battery consumption. The first set of mobile SOCs with hardware decoding support for AV1 are expected to come to market in 2020.\nTarget audience of this article AKA ‚ÄúIf mobile users can‚Äôt decode, then why adopt AV1?‚Äù AV1 is a fairly new codec and we‚Äôre at the beginning of it‚Äôs adoption curve. Think of this article as the build-it phase of ‚ÄúIf you build it, they will come‚Äù approach. We know with desktop browser support, we can enable a subset of the market and reduce the amount of data downloaded. We an also employ a strategy where we can fallback to supported codecs on user devices if AV1 support is not enabled. When these users upgrade to devices with AV1 support, they will automatically get the smaller AV1 video. To enable this we‚Äôll need to create a video tag like below which will allow us to serve the videos in this preference order - AV1-VP9-H.264. If a user has a really old browser or a device that cannot decode any of the videos (highly unlikely with H264 video inluded), then they would just get the GIF file üòû\nvideo style=\"display:block; margin: 0 auto;\" autoplay loop muted playsinline poster=\"RollingCredits.jpg\" source src=\"media/RollingCredits.av1.mp4\" type=\"video/mp4\" source src=\"media/RollingCredits.vp9.webm\" type=\"video/webm\" source src=\"media/RollingCredits.x264.mp4\" type=\"video/mp4\" img src=\"media/RollingCredits.gif\" video The AV1 recipe Creating an AV1 video is pretty simple. Download the latest build of ffmpeg for your platform from here and use the below commandline. We‚Äôre going to be using a 2-pass encoding mode to achieve a target bitrate. For this, we‚Äôll run ffmpeg twice. In the first pass we‚Äôll output to a null file descriptor, not an actual file. This generates a logfile that ffmpeg needs for the second pass.\n# Linux or Mac ## Pass 1 ffmpeg -i input.mp4 -c:v libaom-av1 -b:v 200k -filter:v scale=720:-1 -strict experimental -cpu-used 1 -tile-columns 2 -row-mt 1 -threads 8 -pass 1 -f mp4 /dev/null \u0026\u0026 \\ ## Pass 2 ffmpeg -i input.mp4 -pix_fmt yuv420p -movflags faststart -c:v libaom-av1 -b:v 200k -filter:v scale=720:-1 -strict experimental -cpu-used 1 -tile-columns 2 -row-mt 1 -threads 8 -pass 2 output.mp4 # Windows ## Pass 1 ffmpeg.exe -i input.mp4 -c:v libaom-av1 -b:v 200k -filter:v scale=720:-1 -strict experimental -cpu-used 1 -tile-columns 2 -row-mt 1 -threads 8 -pass 1 -f mp4 NUL \u0026\u0026 ^ ## Pass 2 ffmpeg.exe -i input.mp4 -pix_fmt yuv420p -movflags faststart -c:v libaom-av1 -b:v 200k -filter:v scale=720:-1 -strict experimental -cpu-used 1 -tile-columns 2 -row-mt 1 -threads 8 -pass 2 output.mp4 Here‚Äôs an explanation of what the command line options do\n-i - Used to specify the input file -pix_fmt - Use to specify the 4:2:0 chroma subsampling for the color information in the video. There are many different pixel formats but 4:2:0 is the most compatible, hence we specify that here. -c:v - Used to specify the encoder to use i.e. AV1 in this case -b:v ‚Äì Used to specify the average bitrate we want to achieve -filter:v scale - ffmpeg‚Äôs scale filter to reduce the resolution of the video. We specify this in the X:-1 format which tells ffmpeg to reduce the width of the video to X while and automatically set height that maintains the aspect ratio -strict experimental - Used because AV1 is a fairly new encoder -cpu-used - Horribly named parameter but this is way to select the level of quality we want to achieve. Valid values are 0-4. Lower values (i.e. closer to 0) mean more quality as well as more encoding time taken -tile-columns - Used to achieve multi-threading. Tells the AV1 encoder to split the scene into separate columns which can then be encoded independently of each other, thereby increasing CPU usage -row-mt ‚Äì Similar concept as columns above but for rows within those columns -threads - # of threads the encoder can use -pass - Which pass the command executes -f - Only used in the first pass. Specifies the format of the output file in the second pass i.e. MP4 in this case -movflags faststart - Enables fast start of video by moving some data to the beginning of the file. This allows the video to be played before it is completely downloaded GIF recipe For generating the GIF, I used the below command. To reduce the size of the GIF, I scaled the GIF to 720px wide and 12 fps instead of 24 fps source video.\n./ffmpeg -i /mnt/c/Users/kasing/Desktop/ToS.mov -ss 00:08:08 -t 12 -filter_complex \"[0:v] fps=12,scale=720:-1\" -y scene2.gif Test Results The proof is in the pudding, right? Let‚Äôs see why AV1 is the right codec for this choice of work. I took the open source video Tears of Steel available here https://mango.blender.org/ and encoded it to approximately similar bitrates for AV1, VP9, H.264 codecs. The resulting files are looping below so you can compare between them.\n NOTE 1: If a file below doesn‚Äôt load for you, it‚Äôs possible you‚Äôll need to update your browser. If your browser doesn‚Äôt work, I suggest using browsing in a Chromium based browser such as Chrome, Vivaldi, Brave or Opera. Here‚Äôs the latest on browser support for AV1 https://caniuse.com/#feat=av1\n  NOTE 2: For Firefox 66 on Linux, you‚Äôll need to set the media.av1.enabled flag to true in about:config\n  NOTE 2: I‚Äôm not including the GIFs inline below due to their large size and amount of data it will take to load this page! (Also would be ironic as that‚Äôs what I‚Äôm to get us away from :)). But you can view the GIFs here https://github.com/singhkays/its-time-replace-gifs-with-av1-video/blob/master/GIFs\n Scene 1 @ 200 Kbps This is a high motion scene so it really stresses the encoders at low bitrates. We quickly see how bad H.264 is at this bitrate exhibiting extreme blockiness. VP9 improves things a bit but you can still notice some blockiness. AV1 clearly wins in this test rendering a clearly better image.\nH.264  VP9  AV1  Scene 2 @ 200 Kbps This scene shows off a lot of translucent CGI generated content. The results are a lot closer than the last scene but overall AV1 ends up being the best.\nH.264  VP9  AV1  Scene 3 @ 100 Kbps In this scene, we really dial down the bitrate to 100 Kbps and the results are no surprise. AV1 maintains it‚Äôs advantage at this low bitrate as well!\nH.264  VP9  AV1  Encore To really drive home the point of the amount of space savings compared to a GIF ‚Äì The total size of all the videos embedded above is ‚Ä¶. 1.62 MB!! That‚Äôs right. 1,708,032 freakin bytes! For comparison, here‚Äôs the GIF and AV1 video size for each of the scenes\n    GIF AV1     Scene 1 11.7 MB 0.33 MB   Scene 2 7.27 MB 0.18 MB   Scene 3 5.62 MB 0.088 MB    Absolutely mind blowing! Isn‚Äôt it?\n NOTE: I haven‚Äôt listed out the file sizes for VP9 and H264 because they are very similar to AV1 because of using the same bitrate for all codecs. Also, it would be redundant to add two more columns with similar sizes just to make the point that these codecs offer much better quality than GIF at highly reduced file sizes.\n Changelog 2019-04-28\n Published v1  2019-05-09\n Updated size of Scene 2 GIF to 7.27 MB. This was erroneously specified as 9.06 MB before. Added links to GIFs based on Hacker News comment Added info about why H.265 wasn‚Äôt included in this comparison Added a link to latest browser support for AV1 Added more info on desktop vs browser compatibility  Reach out if you have any questions! Feel free to follow me on\n Twitter - @singhkays LinkedIn - https://www.linkedin.com/in/singhkays/  ",
  "wordCount" : "1848",
  "inLanguage": "en",
  "image":"https://singhkays.com/blog/its-time-replace-gifs-with-av1-video/media/aint-nobody-got-time-for-gif.png","datePublished": "2019-04-28T00:00:00Z",
  "dateModified": "2021-04-03T00:34:45-07:00",
  "author":{
    "@type": "Person",
    "name": "Kay Singh"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://singhkays.com/blog/its-time-replace-gifs-with-av1-video/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "KAY SINGH",
    "logo": {
      "@type": "ImageObject",
      "url": "https://singhkays.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<noscript>
    <style type="text/css">
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://singhkays.com/" accesskey="h" title="Kay Singh (Alt + H)">
                <img src="/android-chrome-192x192.png" alt="logo" aria-label="logo"
                    height="35">Kay Singh</a>
            <span class="logo-switches">
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://singhkays.com/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://singhkays.com/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="https://singhkays.com/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://singhkays.com/contact/" title="Contact">
                    <span>Contact</span>
                </a>
            </li>
            <li>
                <a href="https://singhkays.com/index.xml" title="RSS Feed">
                    <span>RSS Feed</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      It&#39;s time to replace GIFs with AV1 video!
    </h1>
    <div class="post-meta">April 28, 2019&nbsp;¬∑&nbsp;9 min&nbsp;¬∑&nbsp;Kay Singh
</div>
  </header> 
<figure class="entry-cover">
        <img loading="lazy" srcset="https://singhkays.com/blog/its-time-replace-gifs-with-av1-video/media/aint-nobody-got-time-for-gif_hu02e4cc70f3fa4246eb397fd85b9e39a8_515478_360x0_resize_lanczos_3.png 360w ,https://singhkays.com/blog/its-time-replace-gifs-with-av1-video/media/aint-nobody-got-time-for-gif_hu02e4cc70f3fa4246eb397fd85b9e39a8_515478_480x0_resize_lanczos_3.png 480w ,https://singhkays.com/blog/its-time-replace-gifs-with-av1-video/media/aint-nobody-got-time-for-gif_hu02e4cc70f3fa4246eb397fd85b9e39a8_515478_720x0_resize_lanczos_3.png 720w ,https://singhkays.com/blog/its-time-replace-gifs-with-av1-video/media/aint-nobody-got-time-for-gif.png 779w"
            sizes="(min-width: 768px) 720px, 100vw" src="https://singhkays.com/blog/its-time-replace-gifs-with-av1-video/media/aint-nobody-got-time-for-gif.png" alt="" />
        
</figure>
  <div class="post-content"><p>It is 2019 and we need to make a decision about GIFs (<a href="https://bits.blogs.nytimes.com/2013/05/23/battle-over-gif-pronunciation-erupts/">no, not that
one! We‚Äôre never going to be able to decide that
one!</a>).
GIFs take up a massive amount of space <em>(often multiple megabytes!)</em> and
if you‚Äôre a web developer, then that‚Äôs completely against your ethos! As a
web developer, you want to minimize the bits your users need to download
so that your website loads fast. That‚Äôs why you minify javascript,
optimize PNGs, JPEGs and sometimes turn <a href="https://developers.google.com/speed/webp/">JPEGs to WebPs as
well</a>. But then what about
the venerable GIF?</p>
<h2 id="where-we-are-going-we-dont-need-no-gifs">Where we are going, we don‚Äôt need no GIFs!<a hidden class="anchor" aria-hidden="true" href="#where-we-are-going-we-dont-need-no-gifs">#</a></h2>
<p>If your goal is to improve your website&rsquo;s loading performance, then a
GIF needs to be yanked! But then how do you have moving pictures? The answer
is a video. And in most cases, you‚Äôll get better quality as well as
almost 50-90% size savings! In life, most things have a pro and a con.
When you‚Äôre replacing a GIF with a video, in majority of the cases
you‚Äôll be hard pressed to find a con</p>
<h2 id="replace-all-the-gifs">Replace all the GIFs!<a hidden class="anchor" aria-hidden="true" href="#replace-all-the-gifs">#</a></h2>
<p>Fortunately, replacing GIFs with video has now been common for a few
years so the tools needed to pull off this trick are already in play. In
this blog, I‚Äôm not going to break new ground, but improve upon what
already exists. So, here‚Äôs the lowdown on what you can currently do:</p>
<ol>
<li>Take a GIF and convert it into video</li>
<li>Encode it with H.264 or VP9 codec i.e. compress it and package in a MP4 of WebM container</li>
<li>Replace animated GIF <code>&lt;img&gt;</code> elements with <code>&lt;video&gt;</code></li>
<li>Set the video to play automatically, sliently and in a loop to
replicate the GIF functionality</li>
</ol>
<p><a href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/replace-animated-gifs-with-video/">Google has a good documentation page describing the
process.</a></p>
<h2 id="it-is-2019">It is 2019<a hidden class="anchor" aria-hidden="true" href="#it-is-2019">#</a></h2>
<p>It‚Äôs 2019. Tech moves forward and we need to move with it.
Until now you‚Äôve had two choices of codecs that
are widely adopted across all browsers and platforms for encoding the video:</p>
<ol>
<li><strong>H.264</strong> ‚Äì Introduced in 2003 and the most widely used codec today</li>
<li><strong>VP9</strong> ‚Äì Introduced in 2013 and achieves up to 50% more compression compared to H.264 most of the times but it can look worse sometimes according to <a href="https://www.reddit.com/r/AV1/comments/bjzqly/its_time_to_replace_gifs_with_av1_video/emcohnq/">this discussion on reddit</a>.</li>
</ol>
<blockquote>
<p><strong>NOTE:</strong> Even though H.265 is the next-gen version of H.264 and competes with VP9, I&rsquo;m not including it in this comparison becuase of lack of browser support as noted on <a href="https://caniuse.com/#feat=hevc">https://caniuse.com/#feat=hevc</a>. Licensing costs is the major reason why H.265 is not as widely adopted as H.264 and why Alliance of Open Media consortium is working a royalty-free codec i.e. AV1.</p>
</blockquote>
<p>Remember, our goal is to reduce the humongous GIF to as small a size as
possible to improve our webpage loading time. It wouldn‚Äôt be 2019 if we
didn‚Äôt have a new video compression standard we could encode to. This is
called AV1. With AV1, we are able to <a href="http://compression.ru/video/codec_comparison/hevc_2017/MSU_HEVC_comparison_2017_P5_HQ_encoders.pdf">achieve ~30% more compression
compared to
VP9.</a>
Exciting! :)</p>
<!-- raw HTML omitted -->
<h2 id="serving-you-av1-since-2019">Serving you AV1 since 2019!<a hidden class="anchor" aria-hidden="true" href="#serving-you-av1-since-2019">#</a></h2>
<h4 id="on-desktop">On desktop<a hidden class="anchor" aria-hidden="true" href="#on-desktop">#</a></h4>
<p>Recently, support for decoding AV1 video has been enabled in desktop versions of <a href="https://developers.google.com/web/updates/2018/09/chrome-70-media-updates#av1-decoder">Google Chrome 70</a> and <a href="https://medium.com/mozilla-tech/mozilla-celebrates-release-of-free-high-quality-video-compression-technology-av1-in-firefox-65-7c95f2b7e56">Mozilla Firefox 65</a>. At present, support in Firefox is buggy and can cause crashes but is expected to improve with the adoption of the <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1533742">dav1d decoder</a> in Firefox 67. For more info on the dav1d decoder and the latest release, see <a href="http://www.jbkempf.com/blog/post/2019/dav1d-0.3-release%3A-even-faster%21">dav1d 0.3.0 release: even faster!</a>.</p>
<h4 id="on-smartphones">On smartphones<a hidden class="anchor" aria-hidden="true" href="#on-smartphones">#</a></h4>
<p>For smartphones, the support is lacking at present but that&rsquo;s to be expected due to the lack of hardware decoders. Without hardware decoders, the decoding can be done in software without any hiccups but it would cause an increase in battery consumption. The first set of mobile SOCs with hardware decoding support for AV1 are expected to come to market in 2020.</p>
<h4 id="target-audience-of-this-article-aka-if-mobile-users-cant-decode-then-why-adopt-av1">Target audience of this article AKA &ldquo;If mobile users can&rsquo;t decode, then why adopt AV1?&rdquo;<a hidden class="anchor" aria-hidden="true" href="#target-audience-of-this-article-aka-if-mobile-users-cant-decode-then-why-adopt-av1">#</a></h4>
<p>AV1 is a fairly new codec and we&rsquo;re at the beginning of it&rsquo;s adoption curve. Think of this article as the build-it phase of &ldquo;If you build it, they will come&rdquo; approach. We know with desktop browser support, we can enable a subset of the market and reduce the amount of data downloaded. We an also employ a strategy where we can fallback to supported codecs on user devices if AV1 support is not enabled. When these users upgrade to devices with AV1 support, they will automatically get the smaller AV1 video. To enable this we&rsquo;ll need to create a video tag like below which will allow us to serve the videos in this preference order - <strong>AV1</strong>-&gt;<strong>VP9</strong>-&gt;<strong>H.264</strong>. If a user has a really old browser or a device that cannot decode any of the videos <em>(highly unlikely with H264 video inluded)</em>, then they would just get the GIF file üòû</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">video</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;display:block; margin: 0 auto;&#34;</span> <span style="color:#a6e22e">autoplay</span> <span style="color:#a6e22e">loop</span> <span style="color:#a6e22e">muted</span> <span style="color:#a6e22e">playsinline</span> <span style="color:#a6e22e">poster</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;RollingCredits.jpg&#34;</span>&gt;
  &lt;<span style="color:#f92672">source</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;media/RollingCredits.av1.mp4&#34;</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;video/mp4&#34;</span>&gt;
  &lt;<span style="color:#f92672">source</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;media/RollingCredits.vp9.webm&#34;</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;video/webm&#34;</span>&gt;
  &lt;<span style="color:#f92672">source</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;media/RollingCredits.x264.mp4&#34;</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;video/mp4&#34;</span>&gt;
  &lt;<span style="color:#f92672">img</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;media/RollingCredits.gif&#34;</span>&gt;
&lt;/<span style="color:#f92672">video</span>&gt;
</code></pre></div><h2 id="the-av1-recipe">The AV1 recipe<a hidden class="anchor" aria-hidden="true" href="#the-av1-recipe">#</a></h2>
<p>Creating an AV1 video is pretty simple. <a href="https://ffmpeg.org/download.html">Download the latest build of
ffmpeg for your platform from here</a>
and use the below commandline. We‚Äôre going to be using a 2-pass encoding
mode to achieve a target bitrate. For this, we‚Äôll run ffmpeg twice.
In the first pass we‚Äôll output to a null file descriptor, not
an actual file. This generates a logfile that ffmpeg needs for the
second pass.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># Linux or Mac</span>
<span style="color:#75715e">## Pass 1</span>
ffmpeg -i input.mp4 -c:v libaom-av1 -b:v 200k -filter:v scale<span style="color:#f92672">=</span>720:-1 -strict experimental -cpu-used <span style="color:#ae81ff">1</span> -tile-columns <span style="color:#ae81ff">2</span> -row-mt <span style="color:#ae81ff">1</span> -threads <span style="color:#ae81ff">8</span> -pass <span style="color:#ae81ff">1</span> -f mp4 /dev/null <span style="color:#f92672">&amp;&amp;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span><span style="color:#75715e">## Pass 2</span>
ffmpeg -i input.mp4 -pix_fmt yuv420p -movflags faststart -c:v libaom-av1 -b:v 200k -filter:v scale<span style="color:#f92672">=</span>720:-1 -strict experimental -cpu-used <span style="color:#ae81ff">1</span> -tile-columns <span style="color:#ae81ff">2</span> -row-mt <span style="color:#ae81ff">1</span> -threads <span style="color:#ae81ff">8</span> -pass <span style="color:#ae81ff">2</span> output.mp4

<span style="color:#75715e"># Windows</span>
<span style="color:#75715e">## Pass 1</span>
ffmpeg.exe -i input.mp4 -c:v libaom-av1 -b:v 200k -filter:v scale<span style="color:#f92672">=</span>720:-1 -strict experimental -cpu-used <span style="color:#ae81ff">1</span> -tile-columns <span style="color:#ae81ff">2</span> -row-mt <span style="color:#ae81ff">1</span> -threads <span style="color:#ae81ff">8</span> -pass <span style="color:#ae81ff">1</span> -f mp4 NUL <span style="color:#f92672">&amp;&amp;</span> ^
<span style="color:#75715e">## Pass 2</span>
ffmpeg.exe -i input.mp4 -pix_fmt yuv420p -movflags faststart -c:v libaom-av1 -b:v 200k -filter:v scale<span style="color:#f92672">=</span>720:-1 -strict experimental -cpu-used <span style="color:#ae81ff">1</span> -tile-columns <span style="color:#ae81ff">2</span> -row-mt <span style="color:#ae81ff">1</span> -threads <span style="color:#ae81ff">8</span> -pass <span style="color:#ae81ff">2</span> output.mp4
</code></pre></div><p>Here‚Äôs an explanation of what the command line options do</p>
<pre><code>-i - Used to specify the input file

-pix_fmt - Use to specify the 4:2:0 chroma subsampling for the color information in the video. There are many different pixel formats but 4:2:0 is the most compatible, hence we specify that here.

-c:v - Used to specify the encoder to use i.e. AV1 in this case

-b:v ‚Äì Used to specify the average bitrate we want to achieve

-filter:v scale - ffmpeg‚Äôs scale filter to reduce the resolution of the video. We specify this in the X:-1 format which tells ffmpeg to reduce the width of the video to X while and automatically set height that maintains the aspect ratio 

-strict experimental - Used because AV1 is a fairly new encoder

-cpu-used - Horribly named parameter but this is way to select the level of quality we want to achieve. Valid values are 0-4. Lower values (i.e. closer to 0) mean more quality as well as more encoding time taken

-tile-columns - Used to achieve multi-threading. Tells the AV1 encoder to split the scene into separate columns which can then be encoded independently of each other, thereby increasing CPU usage 

-row-mt ‚Äì Similar concept as columns above but for rows within those columns

-threads - # of threads the encoder can use

-pass - Which pass the command executes

-f - Only used in the first pass. Specifies the format of the output file in the second pass i.e. MP4 in this case

-movflags faststart - Enables fast start of video by moving some data to the beginning of the file. This  allows the video to be played before it is completely downloaded

</code></pre><h2 id="gif-recipe">GIF recipe<a hidden class="anchor" aria-hidden="true" href="#gif-recipe">#</a></h2>
<p>For generating the GIF, I used the below command. To reduce the size of the GIF, I scaled the GIF to 720px wide and 12 fps instead of 24 fps source video.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">./ffmpeg -i /mnt/c/Users/kasing/Desktop/ToS.mov -ss 00:08:08 -t <span style="color:#ae81ff">12</span>
-filter_complex <span style="color:#e6db74">&#34;[0:v] fps=12,scale=720:-1&#34;</span> -y scene2.gif
</code></pre></div><!-- raw HTML omitted -->
<h2 id="test-results">Test Results<a hidden class="anchor" aria-hidden="true" href="#test-results">#</a></h2>
<p>The proof is in the pudding, right? Let‚Äôs see why AV1 is the right codec
for this choice of work. I took the open source video Tears of Steel
available here <a href="https://mango.blender.org/">https://mango.blender.org/</a> and encoded it to
approximately similar bitrates for AV1, VP9, H.264 codecs. The resulting
files are looping below so you can compare between them.</p>
<blockquote>
<p><strong>NOTE 1:</strong> If a file below doesn‚Äôt load for you, it‚Äôs possible you‚Äôll need to update your browser. If your browser doesn&rsquo;t work, I suggest using browsing in a Chromium based browser such as Chrome, Vivaldi, Brave or Opera. Here&rsquo;s the latest on browser support for AV1 <a href="https://caniuse.com/#feat=av1">https://caniuse.com/#feat=av1</a></p>
</blockquote>
<blockquote>
<p><strong>NOTE 2:</strong> For Firefox 66 on Linux, you&rsquo;ll need to set the <code>media.av1.enabled</code> flag to true in <code>about:config</code></p>
</blockquote>
<blockquote>
<p><strong>NOTE 2:</strong> I&rsquo;m not including the GIFs inline below due to their large size and amount of data it will take to load this page! (Also would be ironic as that&rsquo;s what I&rsquo;m to get us away from :)). But you can view the GIFs here <a href="https://github.com/singhkays/its-time-replace-gifs-with-av1-video/blob/master/GIFs">https://github.com/singhkays/its-time-replace-gifs-with-av1-video/blob/master/GIFs</a></p>
</blockquote>
<h3 id="scene-1--200-kbps">Scene 1 @ 200 Kbps<a hidden class="anchor" aria-hidden="true" href="#scene-1--200-kbps">#</a></h3>
<p>This is a high motion scene so it really stresses the encoders at low
bitrates. We quickly see how bad H.264 is at this bitrate exhibiting
extreme blockiness. VP9 improves things a bit but you can still notice
some blockiness. AV1 clearly wins in this test rendering a clearly
better image.</p>
<p><div class='align-center'>
  <h4 id="h264">H.264<a hidden class="anchor" aria-hidden="true" href="#h264">#</a></h4>

</div>

<!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<p><div class='align-center'>
  <h4 id="vp9">VP9<a hidden class="anchor" aria-hidden="true" href="#vp9">#</a></h4>

</div>

<!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<p><div class='align-center'>
  <h4 id="av1">AV1<a hidden class="anchor" aria-hidden="true" href="#av1">#</a></h4>

</div>

<!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<h3 id="scene-2--200-kbps">Scene 2 @ 200 Kbps<a hidden class="anchor" aria-hidden="true" href="#scene-2--200-kbps">#</a></h3>
<p>This scene shows off a lot of translucent CGI generated content. The
results are a lot closer than the last scene but overall AV1 ends up being the best.</p>
<p><div class='align-center'>
  <h4 id="h264">H.264<a hidden class="anchor" aria-hidden="true" href="#h264">#</a></h4>

</div>

<!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<p><div class='align-center'>
  <h4 id="vp9">VP9<a hidden class="anchor" aria-hidden="true" href="#vp9">#</a></h4>

</div>

<!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<p><div class='align-center'>
  <h4 id="av1">AV1<a hidden class="anchor" aria-hidden="true" href="#av1">#</a></h4>

</div>

<!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<h3 id="scene-3--100-kbps">Scene 3 @ 100 Kbps<a hidden class="anchor" aria-hidden="true" href="#scene-3--100-kbps">#</a></h3>
<p>In this scene, we really dial down the bitrate to 100 Kbps and the
results are no surprise. AV1 maintains it‚Äôs advantage at this low
bitrate as well!</p>
<p><div class='align-center'>
  <h4 id="h264">H.264<a hidden class="anchor" aria-hidden="true" href="#h264">#</a></h4>

</div>

<!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<p><div class='align-center'>
  <h4 id="vp9">VP9<a hidden class="anchor" aria-hidden="true" href="#vp9">#</a></h4>

</div>

<!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<p><div class='align-center'>
  <h4 id="av1">AV1<a hidden class="anchor" aria-hidden="true" href="#av1">#</a></h4>

</div>

<!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<h2 id="encore">Encore<a hidden class="anchor" aria-hidden="true" href="#encore">#</a></h2>
<p>To really drive home the point of the amount of space savings compared
to a GIF ‚Äì The total size of all the videos embedded above is &hellip;. <strong>1.62
MB!!</strong> That‚Äôs right. 1,708,032 freakin bytes! For comparison, here‚Äôs
the GIF and AV1 video size for each of the scenes</p>
<table>
<thead>
<tr>
<th></th>
<th>GIF</th>
<th>AV1</th>
</tr>
</thead>
<tbody>
<tr>
<td>Scene 1</td>
<td>11.7 MB</td>
<td>0.33 MB</td>
</tr>
<tr>
<td>Scene 2</td>
<td>7.27 MB</td>
<td>0.18 MB</td>
</tr>
<tr>
<td>Scene 3</td>
<td>5.62 MB</td>
<td>0.088 MB</td>
</tr>
</tbody>
</table>
<p><strong>Absolutely mind blowing! Isn‚Äôt it?</strong></p>
<blockquote>
<p>NOTE: I haven&rsquo;t listed out the file sizes for VP9 and H264 because they are very similar to AV1 because of using the same bitrate for all codecs. Also, it would be redundant to add two more columns with similar sizes just to make the point that these codecs offer much better quality than GIF at highly reduced file sizes.</p>
</blockquote>
<!-- raw HTML omitted -->
<h2 id="changelog">Changelog<a hidden class="anchor" aria-hidden="true" href="#changelog">#</a></h2>
<p><strong>2019-04-28</strong></p>
<ul>
<li>Published v1</li>
</ul>
<p><strong>2019-05-09</strong></p>
<ul>
<li>Updated size of Scene 2 GIF to 7.27 MB. This was erroneously specified as 9.06 MB before.</li>
<li>Added links to GIFs based on Hacker News comment</li>
<li>Added info about why H.265 wasn&rsquo;t included in this comparison</li>
<li>Added a link to latest browser support for AV1</li>
<li>Added more info on desktop vs browser compatibility</li>
</ul>
<p>Reach out if you have any questions! Feel free to follow me on</p>
<ul>
<li>Twitter - <a href="https://twitter.com/singhkays">@singhkays</a></li>
<li>LinkedIn - <a href="https://www.linkedin.com/in/singhkays/">https://www.linkedin.com/in/singhkays/</a></li>
</ul>

</div>
  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://singhkays.com/tags/av1/">AV1</a></li>
      <li><a href="https://singhkays.com/tags/gif/">GIF</a></li>
      <li><a href="https://singhkays.com/tags/h.264/">H.264</a></li>
      <li><a href="https://singhkays.com/tags/x264/">x264</a></li>
      <li><a href="https://singhkays.com/tags/vp9/">VP9</a></li>
      <li><a href="https://singhkays.com/tags/codecs/">Codecs</a></li>
      <li><a href="https://singhkays.com/tags/video-encoding/">Video Encoding</a></li>
      <li><a href="https://singhkays.com/tags/html/">HTML</a></li>
      <li><a href="https://singhkays.com/tags/web-performance/">Web Performance</a></li>
      <li><a href="https://singhkays.com/tags/video-compression/">Video Compression</a></li>
      <li><a href="https://singhkays.com/tags/ffmpeg/">ffmpeg</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://singhkays.com/blog/how-to-identify-azure-linux-vm-disks/">
    <span class="title">¬´ Prev Page</span>
    <br>
    <span>How to identify boot, temp and data disks in Azure Linux VMs</span>
  </a>
  <a class="next" href="https://singhkays.com/blog/detect-rolling-credits-video-indexer/">
    <span class="title">Next Page ¬ª</span>
    <br>
    <span>Detect Rolling Credits with Azure Video Indexer</span>
  </a>
</nav>

<div class="share-buttons">
    <a target="_blank" rel="noopener noreferrer" aria-label="share It&#39;s time to replace GIFs with AV1 video! on twitter"
        href="https://twitter.com/intent/tweet/?text=It%27s%20time%20to%20replace%20GIFs%20with%20AV1%20video%21&amp;url=https%3a%2f%2fsinghkays.com%2fblog%2fits-time-replace-gifs-with-av1-video%2f&amp;hashtags=AV1%2cGIF%2cH.264%2cx264%2cVP9%2cCodecs%2cVideoEncoding%2cHTML%2cWebPerformance%2cVideoCompression%2cffmpeg">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-253.927,424.544c135.939,0 210.268,-112.643 210.268,-210.268c0,-3.218 0,-6.437 -0.153,-9.502c14.406,-10.421 26.973,-23.448 36.935,-38.314c-13.18,5.824 -27.433,9.809 -42.452,11.648c15.326,-9.196 26.973,-23.602 32.49,-40.92c-14.252,8.429 -30.038,14.56 -46.896,17.931c-13.487,-14.406 -32.644,-23.295 -53.946,-23.295c-40.767,0 -73.87,33.104 -73.87,73.87c0,5.824 0.613,11.494 1.992,16.858c-61.456,-3.065 -115.862,-32.49 -152.337,-77.241c-6.284,10.881 -9.962,23.601 -9.962,37.088c0,25.594 13.027,48.276 32.95,61.456c-12.107,-0.307 -23.448,-3.678 -33.41,-9.196l0,0.92c0,35.862 25.441,65.594 59.311,72.49c-6.13,1.686 -12.72,2.606 -19.464,2.606c-4.751,0 -9.348,-0.46 -13.946,-1.38c9.349,29.426 36.628,50.728 68.965,51.341c-25.287,19.771 -57.164,31.571 -91.8,31.571c-5.977,0 -11.801,-0.306 -17.625,-1.073c32.337,21.15 71.264,33.41 112.95,33.41Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share It&#39;s time to replace GIFs with AV1 video! on linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fsinghkays.com%2fblog%2fits-time-replace-gifs-with-av1-video%2f&amp;title=It%27s%20time%20to%20replace%20GIFs%20with%20AV1%20video%21&amp;summary=It%27s%20time%20to%20replace%20GIFs%20with%20AV1%20video%21&amp;source=https%3a%2f%2fsinghkays.com%2fblog%2fits-time-replace-gifs-with-av1-video%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share It&#39;s time to replace GIFs with AV1 video! on reddit"
        href="https://reddit.com/submit?url=https%3a%2f%2fsinghkays.com%2fblog%2fits-time-replace-gifs-with-av1-video%2f&title=It%27s%20time%20to%20replace%20GIFs%20with%20AV1%20video%21">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share It&#39;s time to replace GIFs with AV1 video! on facebook"
        href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fsinghkays.com%2fblog%2fits-time-replace-gifs-with-av1-video%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share It&#39;s time to replace GIFs with AV1 video! on whatsapp"
        href="https://api.whatsapp.com/send?text=It%27s%20time%20to%20replace%20GIFs%20with%20AV1%20video%21%20-%20https%3a%2f%2fsinghkays.com%2fblog%2fits-time-replace-gifs-with-av1-video%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share It&#39;s time to replace GIFs with AV1 video! on telegram"
        href="https://telegram.me/share/url?text=It%27s%20time%20to%20replace%20GIFs%20with%20AV1%20video%21&amp;url=https%3a%2f%2fsinghkays.com%2fblog%2fits-time-replace-gifs-with-av1-video%2f">
        <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28">
            <path
                d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
        </svg>
    </a>
</div>

  </footer>
</article>
    </main>
    <footer class="footer">
    <span>Copyright ¬© 2017‚Äì2021, Kay Singh; all rights reserved.</span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)">
    <button class="top-link" id="top-link" type="button" accesskey="g">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z" />
        </svg>
    </button>
</a>
<script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "50f40f74d1b240c398f1be6760b6e964"}'></script>


<script>
    let menu = document.getElementById('menu')
    menu.scrollLeft = localStorage.getItem("menu-scroll-position");
    menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
</body>

</html>
